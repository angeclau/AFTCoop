<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>K-fold Cross-validation for Cooperative AFT Model Estimation — cv.coop • AFTCoop</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="K-fold Cross-validation for Cooperative AFT Model Estimation — cv.coop"><meta property="og:description" content="Function cv.coop performs k-fold cross-validation for cooperative estimation in Accelerated Failure Time
(AFT) models. This function helps selecting the optimal tuning parameters (lambda) by
minimizing prediction error across folds. It is typically used by function aft_coop to select the optimal parameter."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AFTCoop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>K-fold Cross-validation for Cooperative AFT Model Estimation</h1>

    <div class="hidden name"><code>cv.coop.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function cv.coop performs k-fold cross-validation for cooperative estimation in Accelerated Failure Time
(AFT) models. This function helps selecting the optimal tuning parameters (lambda) by
minimizing prediction error across folds. It is typically used by function <code><a href="aft_coop.html">aft_coop</a></code> to select the optimal parameter.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cv.coop</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  <span class="va">Xtilde</span>,</span>
<span>  <span class="va">Y</span>,</span>
<span>  <span class="va">delta</span>,</span>
<span>  sigma <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rho <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nfolds <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ncore_max <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Matrix of combined covariates of dimension <code>n x p_u+p_z</code> obtained as <code>X=[U,Z]</code>, when two views are provided (case=="coop"). Otherwise <code>X=[U]</code> or  <code>X=[Z]</code>, when case=="onlyU" or  case=="onlyZ", respectively.</p></dd>


<dt id="arg-xtilde">Xtilde<a class="anchor" aria-label="anchor" href="#arg-xtilde"></a></dt>
<dd><p>Matrix of cooperative adjusted covariates for cooperative estimation of dimension <code>n x p_u+p_z</code> obtained as <code>Xtilde=[U,-Z]</code>, when two views are provided (case=="coop");</p></dd>


<dt id="arg-y">Y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Vector of log observed survival times or log censored times (response variable in log scale) of dimension <code>n</code>.</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>Vector of censoring indicators (1 for event, 0 for censored) of dimension <code>n</code>.</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>Scale parameter for the AFT model.</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>Vector of regularization parameters in descending order.</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>scalar cooperation parameter or vector of cooperation parameters, the latter option works when case=="coop".</p></dd>


<dt id="arg-nfolds">nfolds<a class="anchor" aria-label="anchor" href="#arg-nfolds"></a></dt>
<dd><p>Number of cross-validation folds (default: 5)</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Character string specifying the AFT model type. The following choices are available: "weibull";"lognormal";"loglogistic".</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical; whether to use parallel processing (default: TRUE)</p></dd>


<dt id="arg-ncore-max">ncore_max<a class="anchor" aria-label="anchor" href="#arg-ncore-max"></a></dt>
<dd><p>Maximum number of cores for parallel processing (default: 5)</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Random seed for reproducibility (default: 123)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of class "cv.coop" containing:</p><ul><li><p>cv.err.linPred: Vector of cross-validation errors for each lambda</p></li>
<li><p>cv.err.obj: Matrix of fold-specific errors (rows are folds, columns are lambdas)</p></li>
<li><p>lambda_grid:  vector of values used in the grid of lambda for the cross validation</p></li>
<li><p>lambda.min: Value of lambda that minimizes cross-validation error</p></li>
<li><p>ind.lambda.min: Index of lambda.min in the lambda vector</p></li>
<li><p>lambda.1se: Largest lambda within one standard error of minimum</p></li>
<li><p>ind.lambda.1se: Index of lambda.1se in the lambda vector</p></li>
<li><p>case.rho: chosed value of parameter rho</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function implements k-fold cross-validation by:</p><ul><li><p>Randomly partitioning the data into k folds</p></li>
<li><p>For each fold:</p><ul><li><p>Fitting the model on training data (excluding the fold)</p></li>
<li><p>Computing predictions on validation data (the fold)</p></li>
<li><p>Calculating prediction error</p></li>
</ul></li>
<li><p>Computing both minimum error lambda (lambda.min) and 1-standard-error rule
lambda (lambda.1se)</p></li>
</ul><p>The function requires the cvTools package for fold generation.
The number of cores used for parallel processing is automatically determined
based on system availability, number of folds and user-specified maximum.
Parallel processing implementation differs between Windows (using makeCluster)
and Unix-like systems (using mclapply).</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Last change 25/03/2025</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="aft_coop.html">aft_coop</a></code> for the main estimation function</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Claudia Angelini, Daniela De Canditiis, Italia De Feis, Antonella Iuliano.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

